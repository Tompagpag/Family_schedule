<div class="container" >
  <div id="all" style="position: relative">
    <%= month_calendar(events: @events, attribute: :start_at) do |date, events| %>
      <div data-controller="calendar" data-calendar-image-tag-value='<%= image_tag 'icons8-exclamation-mark-48.png', class: 'reminder' %>' class="la-modale">
        <div data-bs-toggle="modal" data-bs-target="#exampleModal-<%= date %>" class="h-100">
          <div class="date-number"><%= date.day %></div>
            <div class="countevents">
              <% if events.present? %><%= pluralize(events.count, "event") %><% end %>
              <div class="logos">
                <% if events.any? { |event| event.add_reminder } %><%= image_tag "icons8-alarme-64.png", class: 'reminder' %><% end %>
                <% if events.any? { |event| event.conflict? } %><%= image_tag "icons8-exclamation-mark-48.png", class: 'reminder' %><% end %>
              </div>
            </div>
          </div>
          <%= render partial: "modale", locals: { date: date, events: events} %>
        </div>
      </div>
    <% end %>
  </div>
</div>
